"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Replacement {
    constructor(start, end, text = '', priority = 0) {
        this.start = start;
        this.end = end;
        this.text = text;
        this.priority = priority;
    }
    static insert(pos, text, priority = 0) {
        return new Replacement(pos, pos, text, priority);
    }
    static delete(start, end) {
        return new Replacement(start, end, '');
    }
}
exports.Replacement = Replacement;
function applyReplacements(source, replacements) {
    replacements = replacements.sort((r1, r2) => r2.end !== r1.end ? r2.end - r1.end : r1.start !== r2.start ? r2.start - r1.start : r1.priority - r2.priority);
    for (const replacement of replacements) {
        source = source.slice(0, replacement.start) + replacement.text + source.slice(replacement.end);
    }
    return source;
}
exports.applyReplacements = applyReplacements;
//# sourceMappingURL=replacement.js.map